# source files
SRC = driver.cpp ivf.c psnr.c ssim2.cpp Tests.cpp  Tools.cpp Arguments.cpp FourCC.cpp md5_utils.cpp utilities.cpp args.cpp ivfdec.cpp ivfenc.cpp y4minput.cpp

# source object files
SRCOBJ = driver.o ivf.o psnr.o ssim2.o Tests.o Tools.o Arguments.o FourCC.o md5_utils.o utilities.o args.o ivfdec.o ivfenc.o y4minput.o

# compiler
GPP = arm-none-linux-gnueabi-g++
GCC = arm-none-linux-gnueabi-gcc

# Libraries
LFLAGS= -L../lib -lvpx_Arm7 -lpthread -DINLINE=

#Includes
INCLUDE = -I ../include -I ../include/release-arm7 -D API -D ARM -DHAVE_STDINT_H -D CONFIG_MD5=1

VP8_Tester_Arm7: $(SRCOBJ)
	$(GPP)  $(INCLUDE) -o "VP8_Tester_Arm7.exe" $(SRCOBJ) $(LFLAGS)

ivf.o: ivf.c
	$(GPP) -c ivf.c $(INCLUDE)  $(LFLAGS)

psnr.o: psnr.c
	$(GCC) -c psnr.c $(INCLUDE)  $(LFLAGS)

ssim2.o: ssim2.cpp
	$(GPP) -c ssim2.cpp $(INCLUDE)  $(LFLAGS)

Tests.o: Tests.cpp
	$(GPP) -c Tests.cpp $(INCLUDE)  $(LFLAGS)

Tools.o: Tools.cpp
	$(GPP) -c Tools.cpp $(INCLUDE)  $(LFLAGS)

utilities.o: utilities.cpp
	$(GPP) -c  utilities.cpp $(INCLUDE)  $(LFLAGS)

Arguments.o: Arguments.cpp
	$(GPP) -c Arguments.cpp $(INCLUDE)  $(LFLAGS)

FourCC.o: FourCC.cpp
	$(GPP) -c FourCC.cpp $(INCLUDE)  $(LFLAGS)

driver.o: driver.cpp
	$(GPP) -c driver.cpp $(INCLUDE)  $(LFLAGS)

md5_utils.o: md5_utils.cpp
	$(GPP) -c md5_utils.cpp $(INCLUDE) $(LFLAGS)

args.o: args.cpp
	$(GCC) -c args.cpp $(INCLUDE) $(LFLAGS)

y4minput.o: y4minput.cpp
	$(GCC) -c y4minput.cpp $(INCLUDE) $(LFLAGS)

ivfdec.o: ivfdec.cpp
	$(GCC) -c ivfdec.cpp $(INCLUDE) $(LFLAGS)

ivfenc.o: ivfenc.cpp
	$(GCC) -c ivfenc.cpp $(INCLUDE) $(LFLAGS)


clean:
	rm -f $(SRCOBJ) VP8_Tester_Arm7.exe
