# source files
SRC = psnr.c ssim2.cpp Utilities.cpp ivf.c supportingdebug.cpp md5_utils.cpp

# source object files
SRCOBJ = psnr.o ssim2.o Utilities.o ivf.o supportingdebug.o md5_utils.o

# compiler
GPP = g++ -m32
GCC = gcc -m32
DEBUG = -g

# Libraries
LFLAGS= -L../lib -lvpx_MemIMac32 -D CONFIG_MEM_TRACKER=1 -DINLINE=

#Includes
INCLUDE = -I ../include -I ../include/debug-32 -D API -D API -DHAVE_STDINT_H

VP8vNewest_PlugIn_DLib_DMode_32Bit.exe: $(SRCOBJ)
	$(GPP) $(INCLUDE) -o "VP8vNewest_PlugIn_DLib_DMode_32Bit.exe" $(SRCOBJ) $(LFLAGS) $(DEBUG)

ivf.o: ivf.c
	$(GCC) -c ivf.c $(INCLUDE) $(LFLAGS) $(DEBUG)

psnr.o: psnr.c
	$(GCC) -c psnr.c $(INCLUDE) $(LFLAGS) $(DEBUG)

ssim2.o: ssim2.cpp
	$(GPP) -c ssim2.cpp $(INCLUDE) $(LFLAGS) $(DEBUG)

Utilities.o: Utilities.cpp
	$(GPP) -c Utilities.cpp $(INCLUDE) $(LFLAGS) $(DEBUG)

supportingdebug.o: supportingdebug.cpp
	$(GPP) -c supportingdebug.cpp $(INCLUDE) $(LFLAGS) $(DEBUG)

md5_utils.o: md5_utils.cpp
	$(GPP) -c md5_utils.cpp $(INCLUDE) $(LFLAGS)

clean:
	rm -f $(SRCOBJ) VP8vNewest_PlugIn_DLib_DMode_32Bit.exe
